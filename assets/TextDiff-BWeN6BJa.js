import{d as j,c as d,a as l,l as p,b as t,n as b,t as i,F as h,g as y,o as a}from"./iframe--6dECDSE.js";const H={class:"flex items-center justify-between"},M={class:"flex items-center gap-4"},O={key:0,class:"flex items-center gap-2 text-sm"},P={key:0,class:"text-error"},W={key:1},E={key:2,class:"text-success"},I={key:1,class:"flex items-center gap-3 text-xs"},U={class:"text-success"},G={class:"text-error"},J={class:"opacity-60"},K={key:0,class:"flex gap-2"},Q=["onClick","disabled"],R={key:0,class:"diff-split"},X={class:"diff-old bg-error/5 w-full",role:"table","aria-label":"Original version"},Y={class:"line-number",role:"cell"},Z={class:"line-content",role:"cell"},$={class:"diff-new bg-success/5 w-full",role:"table","aria-label":"Modified version"},ee={class:"line-number",role:"cell"},se={class:"line-content",role:"cell"},te={key:1,class:"diff-unified"},ne={class:"w-full",role:"table","aria-label":"Unified diff view"},le={class:"line-number old",role:"cell"},ae={class:"line-number new",role:"cell"},oe={class:"line-prefix",role:"cell"},ie={class:"line-content",role:"cell"},re=j({__name:"TextDiff",props:{oldText:{},newText:{},oldLines:{},newLines:{},unifiedLines:{},mode:{default:"unified"},oldFileName:{},newFileName:{},showHeader:{type:Boolean,default:!0},showStats:{type:Boolean,default:!0},showLineNumbers:{type:Boolean,default:!0},highlightWords:{type:Boolean,default:!1},size:{default:"md"},actions:{default:()=>[]}},emits:["actionClick"],setup(N,{emit:x}){const o=N,C=x,k=d(()=>{const e=["diff","border","border-base-300","rounded-lg","overflow-hidden"];return o.size==="sm"?e.push("text-sm"):o.size==="lg"&&e.push("text-lg"),e.join(" ")}),F=d(()=>["diff-header","bg-base-200","border-b","border-base-300","px-4","py-3"].join(" ")),T=d(()=>["diff-content","font-mono","text-sm","overflow-x-auto"].join(" ")),g=d(()=>o.oldLines?o.oldLines:o.oldText?o.oldText.split(`
`):[]),w=d(()=>o.newLines?o.newLines:o.newText?o.newText.split(`
`):[]),v=d(()=>{if(o.unifiedLines)return o.unifiedLines;const e=[],n=g.value,s=w.value,r=Math.max(n.length,s.length);for(let u=0;u<r;u++){const f=n[u],c=s[u];if(f&&c){const m=typeof f=="string"?f:f.content,L=typeof c=="string"?c:c.content;m===L?e.push({content:m,type:"context",oldLineNumber:u+1,newLineNumber:u+1,prefix:" "}):(e.push({content:m,type:"removed",oldLineNumber:u+1,newLineNumber:null,prefix:"-"}),e.push({content:L,type:"added",oldLineNumber:null,newLineNumber:u+1,prefix:"+"}))}else if(f){const m=typeof f=="string"?f:f.content;e.push({content:m,type:"removed",oldLineNumber:u+1,newLineNumber:null,prefix:"-"})}else if(c){const m=typeof c=="string"?c:c.content;e.push({content:m,type:"added",oldLineNumber:null,newLineNumber:u+1,prefix:"+"})}}return e}),q=d(()=>v.value.filter(e=>e.type==="added").length),D=d(()=>v.value.filter(e=>e.type==="removed").length),S=d(()=>Math.max(g.value.length,w.value.length)),_=(e,n)=>{const s=["diff-line"];return e==="unified"&&typeof n=="object"?n.type==="added"?s.push("bg-success/10","text-success-content"):n.type==="removed"?s.push("bg-error/10","text-error-content"):n.type==="info"&&s.push("bg-info/10","text-info-content","font-semibold"):e==="old"?s.push("bg-error/5"):e==="new"&&s.push("bg-success/5"),s.join(" ")},z=e=>o.showLineNumbers?e+1:"",B=e=>o.showLineNumbers?e+1:"",V=e=>{const n=["btn"];return e.size==="xs"?n.push("btn-xs"):e.size==="sm"&&n.push("btn-sm"),e.variant==="primary"?n.push("btn-primary"):e.variant==="secondary"?n.push("btn-secondary"):e.variant==="accent"?n.push("btn-accent"):e.variant==="ghost"?n.push("btn-ghost"):e.variant==="outline"&&n.push("btn-outline"),n.join(" ")},A=(e,n)=>{e.disabled||(e.handler&&e.handler(),C("actionClick",e,n))};return(e,n)=>(a(),l("div",{class:b(k.value)},[e.showHeader?(a(),l("div",{key:0,class:b(F.value)},[t("div",H,[t("div",M,[e.oldFileName||e.newFileName?(a(),l("div",O,[e.oldFileName?(a(),l("span",P,i(e.oldFileName),1)):p("",!0),e.oldFileName&&e.newFileName?(a(),l("span",W,"â†”")):p("",!0),e.newFileName?(a(),l("span",E,i(e.newFileName),1)):p("",!0)])):p("",!0),e.showStats?(a(),l("div",I,[t("span",U,"+"+i(q.value),1),t("span",G,"-"+i(D.value),1),t("span",J,i(S.value)+" lines",1)])):p("",!0)]),e.actions.length>0?(a(),l("div",K,[(a(!0),l(h,null,y(e.actions,s=>(a(),l("button",{key:s.label,class:b(V(s)),onClick:r=>A(s,r),disabled:s.disabled},i(s.label),11,Q))),128))])):p("",!0)])],2)):p("",!0),t("div",{class:b(T.value)},[e.mode==="split"?(a(),l("div",R,[t("table",X,[t("tbody",null,[(a(!0),l(h,null,y(g.value,(s,r)=>(a(),l("tr",{key:r,class:b(_("old",s)),role:"row"},[t("td",Y,i(z(r)),1),t("td",Z,i(typeof s=="string"?s:s.content),1)],2))),128))])]),t("table",$,[t("tbody",null,[(a(!0),l(h,null,y(w.value,(s,r)=>(a(),l("tr",{key:r,class:b(_("new",s)),role:"row"},[t("td",ee,i(B(r)),1),t("td",se,i(typeof s=="string"?s:s.content),1)],2))),128))])])])):(a(),l("div",te,[t("table",ne,[t("tbody",null,[(a(!0),l(h,null,y(v.value,(s,r)=>(a(),l("tr",{key:r,class:b(_("unified",s)),role:"row"},[t("td",le,i(s.oldLineNumber||""),1),t("td",ae,i(s.newLineNumber||""),1),t("td",oe,i(s.prefix||" "),1),t("td",ie,i(s.content),1)],2))),128))])])]))],2)],2))}});re.__docgenInfo={exportName:"default",displayName:"TextDiff",description:"",tags:{},props:[{name:"oldText",required:!1,type:{name:"string"}},{name:"newText",required:!1,type:{name:"string"}},{name:"oldLines",required:!1,type:{name:"Array",elements:[{name:"TSParenthesizedType"}]}},{name:"newLines",required:!1,type:{name:"Array",elements:[{name:"TSParenthesizedType"}]}},{name:"unifiedLines",required:!1,type:{name:"Array",elements:[{name:"DiffLine"}]}},{name:"mode",required:!1,type:{name:"union",elements:[{name:'"unified"'},{name:'"split"'}]},defaultValue:{func:!1,value:"'unified'"}},{name:"oldFileName",required:!1,type:{name:"string"}},{name:"newFileName",required:!1,type:{name:"string"}},{name:"showHeader",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showStats",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showLineNumbers",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"highlightWords",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"sm"'},{name:'"md"'},{name:'"lg"'}]},defaultValue:{func:!1,value:"'md'"}},{name:"actions",required:!1,type:{name:"Array",elements:[{name:"DiffAction"}]},defaultValue:{func:!1,value:"() => []"}}],events:[{name:"actionClick",type:{names:["DiffAction"]}}],sourceFiles:["/home/runner/work/Nuxt-CSS-Library-Boilerplate/Nuxt-CSS-Library-Boilerplate/src/components/DataDisplay/TextDiff.vue"]};export{re as _};
