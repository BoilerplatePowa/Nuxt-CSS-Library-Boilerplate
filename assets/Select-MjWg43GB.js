import{d as A,m as w,h as G,r as R,c as u,s as H,f as J,a as t,l as o,b,n as V,u as v,t as i,e as K,F as k,g as _,o as r}from"./iframe-C1Ystuve.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q=["for"],U={class:"label-text"},W={key:0,class:"label-text-alt text-error","aria-label":"required"},X={class:"relative"},Y=["id","disabled","required","multiple","aria-describedby","aria-invalid"],Z={key:0,value:"",disabled:""},ee=["label"],ae=["value","disabled"],se=["value","disabled"],le={key:0,class:"absolute right-8 top-1/2 transform -translate-y-1/2"},te=["id"],re=["id"],ne={key:3,class:"mt-1 text-sm text-success"},C=A({__name:"Select",props:w({options:{default:()=>[]},label:{},placeholder:{},helpText:{},errorMessage:{},validationMessage:{},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showValidation:{type:Boolean,default:!1},size:{default:"md"},variant:{default:"bordered"},ariaDescribedby:{},autoFocus:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:w(["change","focus","blur","validate"],["update:modelValue"]),setup(M,{expose:x,emit:F}){let j=0;const D=()=>`select-${++j}`,a=M,c=G(M,"modelValue"),m=F,d=D(),f=R(),h=u(()=>!!a.errorMessage),y=u(()=>a.options.some(e=>typeof e=="object"&&e.group)),N=u(()=>{if(!y.value)return[];const e={};return a.options.forEach(s=>{typeof s=="object"&&s.group&&(e[s.group]||(e[s.group]=[]),e[s.group].push(s))}),Object.entries(e).map(([s,l])=>({label:s,options:l,isGroup:!0}))}),$=u(()=>["form-control","w-full"]),O=u(()=>["label","text-sm","font-medium"]),z=u(()=>{const e=["select","w-full","transition-all","duration-200"];return a.size==="xs"?e.push("select-xs"):a.size==="sm"?e.push("select-sm"):a.size==="lg"&&e.push("select-lg"),a.variant==="bordered"?e.push("select-bordered"):a.variant==="ghost"?e.push("select-ghost"):a.variant==="primary"?e.push("select-primary"):a.variant==="secondary"?e.push("select-secondary"):a.variant==="accent"?e.push("select-accent"):a.variant==="info"?e.push("select-info"):a.variant==="success"?e.push("select-success"):a.variant==="warning"?e.push("select-warning"):a.variant==="error"&&e.push("select-error"),h.value&&e.push("select-error"),a.showValidation&&!h.value&&c.value&&e.push("select-success"),a.loading&&e.push("cursor-wait"),e.join(" ")}),E=u(()=>{const e=[];return a.helpText&&e.push(`${d}-help`),a.errorMessage&&e.push(`${d}-error`),a.ariaDescribedby&&e.push(a.ariaDescribedby),e.length>0?e.join(" "):void 0}),p=e=>typeof e=="object"?e.value:e,S=e=>typeof e=="object"?e.label:String(e),B=e=>typeof e=="object"&&e.disabled||!1,g=e=>{const s=!a.required||e!==""&&e!==null&&e!==void 0;return m("validate",s),s},T=e=>{const s=e.target;if(a.multiple){const l=Array.from(s.selectedOptions).map(n=>{const q=n.value;return/^\d+$/.test(q)?Number(q):q});c.value=l,g(l)}else{const l=s.value,n=/^\d+$/.test(l)?Number(l):l;c.value=n,g(n)}m("change",e)},I=e=>{m("focus",e)},L=e=>{m("blur",e)};return H(()=>{a.autoFocus&&f.value&&J(()=>{f.value?.focus()})}),x({focus:()=>f.value?.focus(),blur:()=>f.value?.blur(),validate:()=>g(c.value)}),(e,s)=>(r(),t("div",{class:V($.value)},[e.label?(r(),t("label",{key:0,for:v(d),class:V(O.value)},[b("span",U,i(e.label),1),e.required?(r(),t("span",W,"*")):o("",!0)],10,Q)):o("",!0),b("div",X,[b("select",{ref_key:"selectRef",ref:f,id:v(d),class:V(z.value),disabled:e.disabled,required:e.required,multiple:e.multiple,"aria-describedby":E.value,"aria-invalid":h.value,onChange:T,onFocus:I,onBlur:L},[e.placeholder&&!e.multiple?(r(),t("option",Z,i(e.placeholder),1)):o("",!0),y.value?(r(!0),t(k,{key:1},_(N.value,l=>(r(),t("optgroup",{key:l.label,label:l.label},[(r(!0),t(k,null,_(l.options,n=>(r(),t("option",{key:p(n),value:p(n),disabled:B(n)},i(S(n)),9,ae))),128))],8,ee))),128)):o("",!0),y.value?o("",!0):K(e.$slots,"default",{key:2},()=>[(r(!0),t(k,null,_(e.options,l=>(r(),t("option",{key:p(l),value:p(l),disabled:B(l)},i(S(l)),9,se))),128))],!0)],42,Y),e.loading?(r(),t("div",le,s[0]||(s[0]=[b("span",{class:"loading loading-spinner loading-xs"},null,-1)]))):o("",!0)]),e.helpText&&!e.errorMessage?(r(),t("p",{key:1,id:`${v(d)}-help`,class:"text-xs text-base-content/70 mt-1"},i(e.helpText),9,te)):o("",!0),e.errorMessage?(r(),t("p",{key:2,id:`${v(d)}-error`,class:"text-xs text-error mt-1",role:"alert"},i(e.errorMessage),9,re)):o("",!0),e.showValidation&&!e.errorMessage&&c.value?(r(),t("div",ne," âœ“ "+i(e.validationMessage||"Selection valid!"),1)):o("",!0)],2))}}),ie=P(C,[["__scopeId","data-v-bfd4f2d7"]]);C.__docgenInfo={exportName:"default",displayName:"Select",description:"",tags:{},expose:[{name:"focus"},{name:"blur"},{name:"validate"}],props:[{name:"options",required:!1,type:{name:"Array",elements:[{name:"Option"}]},defaultValue:{func:!1,value:"() => []"}},{name:"label",required:!1,type:{name:"string"}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"helpText",required:!1,type:{name:"string"}},{name:"errorMessage",required:!1,type:{name:"string"}},{name:"validationMessage",required:!1,type:{name:"string"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"multiple",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"loading",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showValidation",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"xs"'},{name:'"sm"'},{name:'"md"'},{name:'"lg"'}]},defaultValue:{func:!1,value:"'md'"}},{name:"variant",required:!1,type:{name:"union",elements:[{name:'"bordered"'},{name:'"ghost"'},{name:'"primary"'},{name:'"secondary"'},{name:'"accent"'},{name:'"info"'},{name:'"success"'},{name:'"warning"'},{name:'"error"'}]},defaultValue:{func:!1,value:"'bordered'"}},{name:"ariaDescribedby",required:!1,type:{name:"string"}},{name:"autoFocus",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"change",type:{names:["Event"]}},{name:"focus",type:{names:["FocusEvent"]}},{name:"blur",type:{names:["FocusEvent"]}},{name:"validate",type:{names:["boolean"]}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/Nuxt-CSS-Library-Boilerplate/Nuxt-CSS-Library-Boilerplate/src/components/DataInput/Select.vue"]};export{ie as S};
