import{d as H,c as d,a as t,m as p,b as i,n as h,t as o,F as b,g as y,o as a}from"./iframe-CTDhGX67.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"flex items-center justify-between"},P={class:"flex items-center gap-4"},W={key:0,class:"flex items-center gap-2 text-sm"},E={key:0,class:"text-error"},O={key:1},G={key:2,class:"text-success"},J={key:1,class:"flex items-center gap-3 text-xs"},K={class:"text-success"},Q={class:"text-error"},R={class:"opacity-60"},U={key:0,class:"flex gap-2"},X=["onClick","disabled"],Y={key:0,class:"diff-split grid grid-cols-2 gap-px"},Z={class:"diff-old bg-error/5"},$={class:"line-number"},ee={class:"line-content"},se={class:"diff-new bg-success/5"},ne={class:"line-number"},te={class:"line-content"},ae={key:1,class:"diff-unified"},ie={class:"line-number old"},le={class:"line-number new"},oe={class:"line-prefix"},re={class:"line-content"},N=H({__name:"Diff",props:{oldText:{},newText:{},oldLines:{},newLines:{},unifiedLines:{},mode:{default:"unified"},oldFileName:{},newFileName:{},showHeader:{type:Boolean,default:!0},showStats:{type:Boolean,default:!0},showLineNumbers:{type:Boolean,default:!0},highlightWords:{type:Boolean,default:!1},size:{default:"md"},actions:{default:()=>[]}},emits:["actionClick"],setup(x,{emit:C}){const l=x,k=C,F=d(()=>{const e=["diff","border","border-base-300","rounded-lg","overflow-hidden"];return l.size==="sm"?e.push("text-sm"):l.size==="lg"&&e.push("text-lg"),e.join(" ")}),q=d(()=>["diff-header","bg-base-200","border-b","border-base-300","px-4","py-3"].join(" ")),T=d(()=>["diff-content","font-mono","text-sm","overflow-x-auto"].join(" ")),v=d(()=>l.oldLines?l.oldLines:l.oldText?l.oldText.split(`
`):[]),g=d(()=>l.newLines?l.newLines:l.newText?l.newText.split(`
`):[]),_=d(()=>{if(l.unifiedLines)return l.unifiedLines;const e=[],n=v.value,s=g.value,r=Math.max(n.length,s.length);for(let u=0;u<r;u++){const f=n[u],c=s[u];if(f&&c){const m=typeof f=="string"?f:f.content,L=typeof c=="string"?c:c.content;m===L?e.push({content:m,type:"context",oldLineNumber:u+1,newLineNumber:u+1,prefix:" "}):(e.push({content:m,type:"removed",oldLineNumber:u+1,newLineNumber:null,prefix:"-"}),e.push({content:L,type:"added",oldLineNumber:null,newLineNumber:u+1,prefix:"+"}))}else if(f){const m=typeof f=="string"?f:f.content;e.push({content:m,type:"removed",oldLineNumber:u+1,newLineNumber:null,prefix:"-"})}else if(c){const m=typeof c=="string"?c:c.content;e.push({content:m,type:"added",oldLineNumber:null,newLineNumber:u+1,prefix:"+"})}}return e}),D=d(()=>_.value.filter(e=>e.type==="added").length),S=d(()=>_.value.filter(e=>e.type==="removed").length),z=d(()=>Math.max(v.value.length,g.value.length)),w=(e,n)=>{const s=["diff-line","flex","items-center","px-2","py-0.5","hover:bg-base-100"];return e==="unified"&&typeof n=="object"?n.type==="added"?s.push("bg-success/10","text-success-content"):n.type==="removed"?s.push("bg-error/10","text-error-content"):n.type==="info"&&s.push("bg-info/10","text-info-content","font-semibold"):e==="old"?s.push("bg-error/5"):e==="new"&&s.push("bg-success/5"),s.join(" ")},B=e=>l.showLineNumbers?e+1:"",V=e=>l.showLineNumbers?e+1:"",A=e=>{const n=["btn"];return e.size==="xs"?n.push("btn-xs"):e.size==="sm"&&n.push("btn-sm"),e.variant==="primary"?n.push("btn-primary"):e.variant==="secondary"?n.push("btn-secondary"):e.variant==="accent"?n.push("btn-accent"):e.variant==="ghost"?n.push("btn-ghost"):e.variant==="outline"&&n.push("btn-outline"),n.join(" ")},j=(e,n)=>{e.disabled||(e.handler&&e.handler(),k("actionClick",e,n))};return(e,n)=>(a(),t("div",{class:h(F.value)},[e.showHeader?(a(),t("div",{key:0,class:h(q.value)},[i("div",M,[i("div",P,[e.oldFileName||e.newFileName?(a(),t("div",W,[e.oldFileName?(a(),t("span",E,o(e.oldFileName),1)):p("",!0),e.oldFileName&&e.newFileName?(a(),t("span",O,"â†”")):p("",!0),e.newFileName?(a(),t("span",G,o(e.newFileName),1)):p("",!0)])):p("",!0),e.showStats?(a(),t("div",J,[i("span",K,"+"+o(D.value),1),i("span",Q,"-"+o(S.value),1),i("span",R,o(z.value)+" lines",1)])):p("",!0)]),e.actions.length>0?(a(),t("div",U,[(a(!0),t(b,null,y(e.actions,s=>(a(),t("button",{key:s.label,class:h(A(s)),onClick:r=>j(s,r),disabled:s.disabled},o(s.label),11,X))),128))])):p("",!0)])],2)):p("",!0),i("div",{class:h(T.value)},[e.mode==="split"?(a(),t("div",Y,[i("div",Z,[(a(!0),t(b,null,y(v.value,(s,r)=>(a(),t("div",{key:r,class:h(w("old",s))},[i("span",$,o(B(r)),1),i("span",ee,o(s.content||s),1)],2))),128))]),i("div",se,[(a(!0),t(b,null,y(g.value,(s,r)=>(a(),t("div",{key:r,class:h(w("new",s))},[i("span",ne,o(V(r)),1),i("span",te,o(s.content||s),1)],2))),128))])])):(a(),t("div",ae,[(a(!0),t(b,null,y(_.value,(s,r)=>(a(),t("div",{key:r,class:h(w("unified",s))},[i("span",ie,o(s.oldLineNumber||""),1),i("span",le,o(s.newLineNumber||""),1),i("span",oe,o(s.prefix||" "),1),i("span",re,o(s.content),1)],2))),128))]))],2)],2))}}),fe=I(N,[["__scopeId","data-v-fee7c045"]]);N.__docgenInfo={exportName:"default",displayName:"Diff",description:"",tags:{},props:[{name:"oldText",required:!1,type:{name:"string"}},{name:"newText",required:!1,type:{name:"string"}},{name:"oldLines",required:!1,type:{name:"Array",elements:[{name:"TSParenthesizedType"}]}},{name:"newLines",required:!1,type:{name:"Array",elements:[{name:"TSParenthesizedType"}]}},{name:"unifiedLines",required:!1,type:{name:"Array",elements:[{name:"DiffLine"}]}},{name:"mode",required:!1,type:{name:"union",elements:[{name:'"unified"'},{name:'"split"'}]},defaultValue:{func:!1,value:"'unified'"}},{name:"oldFileName",required:!1,type:{name:"string"}},{name:"newFileName",required:!1,type:{name:"string"}},{name:"showHeader",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showStats",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"showLineNumbers",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"highlightWords",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"sm"'},{name:'"md"'},{name:'"lg"'}]},defaultValue:{func:!1,value:"'md'"}},{name:"actions",required:!1,type:{name:"Array",elements:[{name:"DiffAction"}]},defaultValue:{func:!1,value:"() => []"}}],events:[{name:"actionClick",type:{names:["DiffAction"]}}],sourceFiles:["/home/runner/work/Nuxt-CSS-Library-Boilerplate/Nuxt-CSS-Library-Boilerplate/src/components/DataDisplay/Diff.vue"]};export{fe as D};
